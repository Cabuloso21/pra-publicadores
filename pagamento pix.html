<div id="status"></div>

<form id="meuFormulario">
  <input type="text" placeholder="Seu nome" disabled />
  <input type="email" placeholder="Seu email" disabled />
  <button type="submit" disabled>Enviar</button>
</form>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
  import { getFirestore, doc, onSnapshot } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-firestore.js";

  // üîë Sua configura√ß√£o do Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyCqkWODpY54YGrvqPVMABK_k_ZJLo1KXMA",
    authDomain: "teste-cfe69.firebaseapp.com",
    databaseURL: "https://teste-cfe69-default-rtdb.firebaseio.com",
    projectId: "teste-cfe69",
    storageBucket: "teste-cfe69.firebasestorage.app",
    messagingSenderId: "646579509123",
    appId: "1:646579509123:web:5565c595f322cf3ba308b6",
    measurementId: "G-81YQG8L41X"
  };

  // Inicializa Firebase
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const statusDiv = document.getElementById("status");

  // üîπ Identificador do usu√°rio que voc√™ quer controlar
  const userId = "usuario123";  

  // Escuta em tempo real as mudan√ßas no Firestore
  onSnapshot(doc(db, "usuarios", userId), (docSnap) => {
    if (docSnap.exists()) {
      const dados = docSnap.data();

      if (dados.pagamento === true) {
        // ‚úÖ Desbloqueia o formul√°rio
        document.querySelectorAll("#meuFormulario input, #meuFormulario button")
          .forEach(el => el.removeAttribute("disabled"));

        statusDiv.textContent = "‚úÖ Pagamento aprovado, formul√°rio desbloqueado!";
      } else {
        statusDiv.textContent = "‚è≥ Pagamento ainda n√£o aprovado.";
      }
    } else {
      statusDiv.textContent = "‚ùå Documento do usu√°rio n√£o encontrado.";
    }
  });
</script>
